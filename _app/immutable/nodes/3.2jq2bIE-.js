import{s as vt,o as Zt,n as _t,i as qt,r as Jt,b as Ut,h as Ht,e as kt}from"../chunks/scheduler.BwZ7y9wQ.js";import{S as gt,i as $t,g as Y,m as Q,s as P,r as ot,h as j,j as U,n as R,f as k,c as W,u as at,k as O,a as F,y as b,v as ut,o as rt,d as X,t as x,w as lt,x as yt,z as dt,A as Mt,p as Nt,b as zt,B as At,e as bt}from"../chunks/index.Y8YiFaFG.js";import{p as Gt}from"../chunks/stores._sL68_2C.js";import{B as It,I as Qt,e as Lt,u as Rt,o as Kt,n as Xt,m as xt}from"../chunks/InvertedButton.Il21LIYm.js";const Pt=1e3,St=60*Pt,Yt=60*St;function tt(n){if(!n)return"0:00:00";let t=n;const e=Math.floor(t/Yt);t-=e*Yt;const r=Math.floor(t/St);t-=r*St;const a=Math.round(t/Pt);return`${e}:${(""+r).padStart(2,"0")}:${(""+a).padStart(2,"0")}`}function te(n){let t;return{c(){t=Q("Start")},l(e){t=R(e,"Start")},m(e,r){F(e,t,r)},d(e){e&&k(t)}}}function ee(n){let t;return{c(){t=Q("Stop")},l(e){t=R(e,"Stop")},m(e,r){F(e,t,r)},d(e){e&&k(t)}}}function ne(n){let t,e,r,a,u,i,h,l,f;return i=new It({props:{disabled:!!n[0],$$slots:{default:[te]},$$scope:{ctx:n}}}),i.$on("click",n[3]),l=new It({props:{disabled:!!n[1],$$slots:{default:[ee]},$$scope:{ctx:n}}}),l.$on("click",n[4]),{c(){t=Y("div"),e=Y("div"),r=Q(n[2]),a=P(),u=Y("div"),ot(i.$$.fragment),h=P(),ot(l.$$.fragment),this.h()},l(c){t=j(c,"DIV",{class:!0});var _=U(t);e=j(_,"DIV",{class:!0});var y=U(e);r=R(y,n[2]),y.forEach(k),a=W(_),u=j(_,"DIV",{class:!0});var v=U(u);at(i.$$.fragment,v),h=W(v),at(l.$$.fragment,v),v.forEach(k),_.forEach(k),this.h()},h(){O(e,"class","text-center font-mono text-4xl"),O(u,"class","flex flex-row justify-center gap-2"),O(t,"class","flex flex-col justify-center gap-2 rounded-2xl bg-zinc-200 p-4")},m(c,_){F(c,t,_),b(t,e),b(e,r),b(t,a),b(t,u),ut(i,u,null),b(u,h),ut(l,u,null),f=!0},p(c,[_]){(!f||_&4)&&rt(r,c[2]);const y={};_&1&&(y.disabled=!!c[0]),_&1024&&(y.$$scope={dirty:_,ctx:c}),i.$set(y);const v={};_&2&&(v.disabled=!!c[1]),_&1024&&(v.$$scope={dirty:_,ctx:c}),l.$set(v)},i(c){f||(X(i.$$.fragment,c),X(l.$$.fragment,c),f=!0)},o(c){x(i.$$.fragment,c),x(l.$$.fragment,c),f=!1},d(c){c&&k(t),lt(i),lt(l)}}}function re(n,t,e){let r,{onUpdate:a}=t,{onStop:u}=t,i,h,l=tt(r),f;function c(){f&&(clearInterval(f),f=void 0)}Zt(()=>c);function _(){c(),e(0,i=new Date),e(1,h=void 0),e(2,l=tt(r)),a(r),f=setInterval(()=>{const v=i?Date.now()-i.getTime():0;e(2,l=tt(v)),a(v)},1e3)}function y(){c(),e(1,h=new Date),e(2,l=tt(r)),i&&(u(i,h),e(0,i=void 0),e(1,h=void 0),e(2,l=tt(r)),a(r))}return n.$$set=v=>{"onUpdate"in v&&e(5,a=v.onUpdate),"onStop"in v&&e(6,u=v.onStop)},n.$$.update=()=>{n.$$.dirty&3&&(r=i&&h?h.getTime()-i.getTime():0)},[i,h,l,_,y,a,u]}class se extends gt{constructor(t){super(),$t(this,t,re,ne,vt,{onUpdate:5,onStop:6})}}var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wt={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(wt,function(){var e=1e3,r=6e4,a=36e5,u="millisecond",i="second",h="minute",l="hour",f="day",c="week",_="month",y="quarter",v="year",S="date",g="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,T={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(p){var o=["th","st","nd","rd"],s=p%100;return"["+p+(o[(s-20)%10]||o[s]||o[0])+"]"}},C=function(p,o,s){var m=String(p);return!m||m.length>=o?p:""+Array(o+1-m.length).join(s)+p},q={s:C,z:function(p){var o=-p.utcOffset(),s=Math.abs(o),m=Math.floor(s/60),d=s%60;return(o<=0?"+":"-")+C(m,2,"0")+":"+C(d,2,"0")},m:function p(o,s){if(o.date()<s.date())return-p(s,o);var m=12*(s.year()-o.year())+(s.month()-o.month()),d=o.clone().add(m,_),D=s-d<0,$=o.clone().add(m+(D?-1:1),_);return+(-(m+(s-d)/(D?d-$:$-d))||0)},a:function(p){return p<0?Math.ceil(p)||0:Math.floor(p)},p:function(p){return{M:_,y:v,w:c,d:f,D:S,h:l,m:h,s:i,ms:u,Q:y}[p]||String(p||"").toLowerCase().replace(/s$/,"")},u:function(p){return p===void 0}},J="en",z={};z[J]=T;var H="$isDayjsObject",ft=function(p){return p instanceof Z||!(!p||!p[H])},K=function p(o,s,m){var d;if(!o)return J;if(typeof o=="string"){var D=o.toLowerCase();z[D]&&(d=D),s&&(z[D]=s,d=D);var $=o.split("-");if(!d&&$.length>1)return p($[0])}else{var L=o.name;z[L]=o,d=L}return!m&&d&&(J=d),d||!m&&J},V=function(p,o){if(ft(p))return p.clone();var s=typeof o=="object"?o:{};return s.date=p,s.args=arguments,new Z(s)},I=q;I.l=K,I.i=ft,I.w=function(p,o){return V(p,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var Z=function(){function p(s){this.$L=K(s.locale,null,!0),this.parse(s),this.$x=this.$x||s.x||{},this[H]=!0}var o=p.prototype;return o.parse=function(s){this.$d=function(m){var d=m.date,D=m.utc;if(d===null)return new Date(NaN);if(I.u(d))return new Date;if(d instanceof Date)return new Date(d);if(typeof d=="string"&&!/Z$/i.test(d)){var $=d.match(w);if($){var L=$[2]-1||0,E=($[7]||"0").substring(0,3);return D?new Date(Date.UTC($[1],L,$[3]||1,$[4]||0,$[5]||0,$[6]||0,E)):new Date($[1],L,$[3]||1,$[4]||0,$[5]||0,$[6]||0,E)}}return new Date(d)}(s),this.init()},o.init=function(){var s=this.$d;this.$y=s.getFullYear(),this.$M=s.getMonth(),this.$D=s.getDate(),this.$W=s.getDay(),this.$H=s.getHours(),this.$m=s.getMinutes(),this.$s=s.getSeconds(),this.$ms=s.getMilliseconds()},o.$utils=function(){return I},o.isValid=function(){return this.$d.toString()!==g},o.isSame=function(s,m){var d=V(s);return this.startOf(m)<=d&&d<=this.endOf(m)},o.isAfter=function(s,m){return V(s)<this.startOf(m)},o.isBefore=function(s,m){return this.endOf(m)<V(s)},o.$g=function(s,m,d){return I.u(s)?this[m]:this.set(d,s)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(s,m){var d=this,D=!!I.u(m)||m,$=I.p(s),L=function(it,B){var et=I.w(d.$u?Date.UTC(d.$y,B,it):new Date(d.$y,B,it),d);return D?et:et.endOf(f)},E=function(it,B){return I.w(d.toDate()[it].apply(d.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(B)),d)},N=this.$W,A=this.$M,G=this.$D,ct="set"+(this.$u?"UTC":"");switch($){case v:return D?L(1,0):L(31,11);case _:return D?L(1,A):L(0,A+1);case c:var st=this.$locale().weekStart||0,mt=(N<st?N+7:N)-st;return L(D?G-mt:G+(6-mt),A);case f:case S:return E(ct+"Hours",0);case l:return E(ct+"Minutes",1);case h:return E(ct+"Seconds",2);case i:return E(ct+"Milliseconds",3);default:return this.clone()}},o.endOf=function(s){return this.startOf(s,!1)},o.$set=function(s,m){var d,D=I.p(s),$="set"+(this.$u?"UTC":""),L=(d={},d[f]=$+"Date",d[S]=$+"Date",d[_]=$+"Month",d[v]=$+"FullYear",d[l]=$+"Hours",d[h]=$+"Minutes",d[i]=$+"Seconds",d[u]=$+"Milliseconds",d)[D],E=D===f?this.$D+(m-this.$W):m;if(D===_||D===v){var N=this.clone().set(S,1);N.$d[L](E),N.init(),this.$d=N.set(S,Math.min(this.$D,N.daysInMonth())).$d}else L&&this.$d[L](E);return this.init(),this},o.set=function(s,m){return this.clone().$set(s,m)},o.get=function(s){return this[I.p(s)]()},o.add=function(s,m){var d,D=this;s=Number(s);var $=I.p(m),L=function(A){var G=V(D);return I.w(G.date(G.date()+Math.round(A*s)),D)};if($===_)return this.set(_,this.$M+s);if($===v)return this.set(v,this.$y+s);if($===f)return L(1);if($===c)return L(7);var E=(d={},d[h]=r,d[l]=a,d[i]=e,d)[$]||1,N=this.$d.getTime()+s*E;return I.w(N,this)},o.subtract=function(s,m){return this.add(-1*s,m)},o.format=function(s){var m=this,d=this.$locale();if(!this.isValid())return d.invalidDate||g;var D=s||"YYYY-MM-DDTHH:mm:ssZ",$=I.z(this),L=this.$H,E=this.$m,N=this.$M,A=d.weekdays,G=d.months,ct=d.meridiem,st=function(B,et,pt,Dt){return B&&(B[et]||B(m,D))||pt[et].slice(0,Dt)},mt=function(B){return I.s(L%12||12,B,"0")},it=ct||function(B,et,pt){var Dt=B<12?"AM":"PM";return pt?Dt.toLowerCase():Dt};return D.replace(M,function(B,et){return et||function(pt){switch(pt){case"YY":return String(m.$y).slice(-2);case"YYYY":return I.s(m.$y,4,"0");case"M":return N+1;case"MM":return I.s(N+1,2,"0");case"MMM":return st(d.monthsShort,N,G,3);case"MMMM":return st(G,N);case"D":return m.$D;case"DD":return I.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return st(d.weekdaysMin,m.$W,A,2);case"ddd":return st(d.weekdaysShort,m.$W,A,3);case"dddd":return A[m.$W];case"H":return String(L);case"HH":return I.s(L,2,"0");case"h":return mt(1);case"hh":return mt(2);case"a":return it(L,E,!0);case"A":return it(L,E,!1);case"m":return String(E);case"mm":return I.s(E,2,"0");case"s":return String(m.$s);case"ss":return I.s(m.$s,2,"0");case"SSS":return I.s(m.$ms,3,"0");case"Z":return $}return null}(B)||$.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(s,m,d){var D,$=this,L=I.p(m),E=V(s),N=(E.utcOffset()-this.utcOffset())*r,A=this-E,G=function(){return I.m($,E)};switch(L){case v:D=G()/12;break;case _:D=G();break;case y:D=G()/3;break;case c:D=(A-N)/6048e5;break;case f:D=(A-N)/864e5;break;case l:D=A/a;break;case h:D=A/r;break;case i:D=A/e;break;default:D=A}return d?D:I.a(D)},o.daysInMonth=function(){return this.endOf(_).$D},o.$locale=function(){return z[this.$L]},o.locale=function(s,m){if(!s)return this.$L;var d=this.clone(),D=K(s,m,!0);return D&&(d.$L=D),d},o.clone=function(){return I.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},p}(),ht=Z.prototype;return V.prototype=ht,[["$ms",u],["$s",i],["$m",h],["$H",l],["$W",f],["$M",_],["$y",v],["$D",S]].forEach(function(p){ht[p[1]]=function(o){return this.$g(o,p[0],p[1])}}),V.extend=function(p,o){return p.$i||(p(o,Z,V),p.$i=!0),V},V.locale=K,V.isDayjs=ft,V.unix=function(p){return V(1e3*p)},V.en=z[J],V.Ls=z,V.p={},V})})(Wt);var ie=Wt.exports;const nt=Tt(ie);var Ft={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(wt,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,u){var i=a.prototype,h=i.format;u.en.formats=e,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var f=this.$locale().formats,c=function(_,y){return _.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,S,g){var w=g&&g.toUpperCase();return S||y[g]||e[g]||y[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,T,C){return T||C.slice(1)})})}(l,f===void 0?{}:f);return h.call(this,c)}}})})(Ft);var oe=Ft.exports;const ae=Tt(oe);var Bt={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(wt,function(){return function(e,r,a){r.prototype.isToday=function(){var u="YYYY-MM-DD",i=a();return this.format(u)===i.format(u)}}})})(Bt);var ue=Bt.exports;const le=Tt(ue);function jt(n){let t,e;return{c(){t=Y("div"),e=Q(n[3])},l(r){t=j(r,"DIV",{});var a=U(t);e=R(a,n[3]),a.forEach(k)},m(r,a){F(r,t,a),b(t,e)},p(r,a){a&8&&rt(e,r[3])},d(r){r&&k(t)}}}function Ot(n){let t,e;return{c(){t=Y("div"),e=Q(n[2])},l(r){t=j(r,"DIV",{});var a=U(t);e=R(a,n[2]),a.forEach(k)},m(r,a){F(r,t,a),b(t,e)},p(r,a){a&4&&rt(e,r[2])},d(r){r&&k(t)}}}function fe(n){let t,e,r,a=n[6](n[0])+"",u,i,h,l="-",f,c,_,y=n[6](n[1])+"",v,S=!n[5]&&jt(n),g=!n[5]&&!n[4]&&Ot(n);return{c(){t=Y("div"),S&&S.c(),e=P(),r=Y("div"),u=Q(a),i=P(),h=Y("div"),h.textContent=l,f=P(),g&&g.c(),c=P(),_=Y("div"),v=Q(y),this.h()},l(w){t=j(w,"DIV",{class:!0});var M=U(t);S&&S.l(M),e=W(M),r=j(M,"DIV",{});var T=U(r);u=R(T,a),T.forEach(k),i=W(M),h=j(M,"DIV",{"data-svelte-h":!0}),yt(h)!=="svelte-fd8uot"&&(h.textContent=l),f=W(M),g&&g.l(M),c=W(M),_=j(M,"DIV",{});var C=U(_);v=R(C,y),C.forEach(k),M.forEach(k),this.h()},h(){O(t,"class","flex flex-row gap-1")},m(w,M){F(w,t,M),S&&S.m(t,null),b(t,e),b(t,r),b(r,u),b(t,i),b(t,h),b(t,f),g&&g.m(t,null),b(t,c),b(t,_),b(_,v)},p(w,[M]){w[5]?S&&(S.d(1),S=null):S?S.p(w,M):(S=jt(w),S.c(),S.m(t,e)),M&1&&a!==(a=w[6](w[0])+"")&&rt(u,a),!w[5]&&!w[4]?g?g.p(w,M):(g=Ot(w),g.c(),g.m(t,c)):g&&(g.d(1),g=null),M&2&&y!==(y=w[6](w[1])+"")&&rt(v,y)},i:_t,o:_t,d(w){w&&k(t),S&&S.d(),g&&g.d()}}}function ce(n,t,e){let r,a,u,i,h,{start:l}=t,{stop:f}=t;nt.extend(ae),nt.extend(le);const c=v=>nt(v).format("M/DD/YYYY"),_=v=>nt(v).format("M/DD"),y=v=>nt(v).format("h:mma");return n.$$set=v=>{"start"in v&&e(0,l=v.start),"stop"in v&&e(1,f=v.stop)},n.$$.update=()=>{n.$$.dirty&1&&e(5,r=nt(l).isToday()),n.$$.dirty&1&&e(7,a=nt(l).year()==nt().year()),n.$$.dirty&3&&e(4,u=c(l)==c(f)),n.$$.dirty&129&&e(3,i=a?_(l):c(l)),n.$$.dirty&130&&e(2,h=a?_(f):c(f))},[l,f,h,i,u,r,y,a]}class de extends gt{constructor(t){super(),$t(this,t,ce,fe,vt,{start:0,stop:1})}}function he(n){let t;return{c(){t=Q("ðŸžª")},l(e){t=R(e,"ðŸžª")},m(e,r){F(e,t,r)},d(e){e&&k(t)}}}function me(n){let t,e,r=tt(Math.round(new Date(n[0].stop).getTime()-new Date(n[0].start).getTime()))+"",a,u,i,h,l,f,c,_,y,v,S,g,w;return l=new de({props:{start:n[0].start,stop:n[0].stop}}),v=new Qt({props:{$$slots:{default:[he]},$$scope:{ctx:n}}}),v.$on("click",function(){qt(n[1])&&n[1].apply(this,arguments)}),{c(){t=Y("div"),e=Y("div"),a=Q(r),u=P(),i=Y("div"),h=Y("div"),ot(l.$$.fragment),f=P(),c=Y("input"),y=P(),ot(v.$$.fragment),this.h()},l(M){t=j(M,"DIV",{class:!0});var T=U(t);e=j(T,"DIV",{class:!0});var C=U(e);a=R(C,r),C.forEach(k),u=W(T),i=j(T,"DIV",{class:!0});var q=U(i);h=j(q,"DIV",{class:!0});var J=U(h);at(l.$$.fragment,J),J.forEach(k),f=W(q),c=j(q,"INPUT",{id:!0,placeholder:!0,class:!0}),q.forEach(k),y=W(T),at(v.$$.fragment,T),T.forEach(k),this.h()},h(){O(e,"class","font-mono text-lg"),O(h,"class","ml-2 w-full text-right text-xs text-zinc-500"),O(c,"id",_="session_name_"+n[0].id),O(c,"placeholder","Session name"),O(c,"class","svelte-oxet75"),O(i,"class","gap-0.75 flex w-full flex-col"),O(t,"class","flex w-full flex-row items-center gap-2")},m(M,T){F(M,t,T),b(t,e),b(e,a),b(t,u),b(t,i),b(i,h),ut(l,h,null),b(i,f),b(i,c),dt(c,n[0].name),b(t,y),ut(v,t,null),S=!0,g||(w=Mt(c,"input",n[2]),g=!0)},p(M,[T]){n=M,(!S||T&1)&&r!==(r=tt(Math.round(new Date(n[0].stop).getTime()-new Date(n[0].start).getTime()))+"")&&rt(a,r);const C={};T&1&&(C.start=n[0].start),T&1&&(C.stop=n[0].stop),l.$set(C),(!S||T&1&&_!==(_="session_name_"+n[0].id))&&O(c,"id",_),T&1&&c.value!==n[0].name&&dt(c,n[0].name);const q={};T&8&&(q.$$scope={dirty:T,ctx:n}),v.$set(q)},i(M){S||(X(l.$$.fragment,M),X(v.$$.fragment,M),S=!0)},o(M){x(l.$$.fragment,M),x(v.$$.fragment,M),S=!1},d(M){M&&k(t),lt(l),lt(v),g=!1,w()}}}function pe(n,t,e){let{item:r}=t,{onDelete:a}=t;function u(){r.name=this.value,e(0,r)}return n.$$set=i=>{"item"in i&&e(0,r=i.item),"onDelete"in i&&e(1,a=i.onDelete)},[r,a,u]}class _e extends gt{constructor(t){super(),$t(this,t,pe,me,vt,{item:0,onDelete:1})}}function Et(n,t,e){const r=n.slice();return r[12]=t[e],r[13]=t,r[14]=e,r}function Ct(n){let t,e="No sessions logged so far";return{c(){t=Y("div"),t.textContent=e},l(r){t=j(r,"DIV",{"data-svelte-h":!0}),yt(t)!=="svelte-19p8o4v"&&(t.textContent=e)},m(r,a){F(r,t,a)},p:_t,d(r){r&&k(t)}}}function Vt(n,t){let e,r,a,u;function i(){return t[10](t[12])}function h(f){t[11](f,t[12],t[13],t[14])}let l={onDelete:i};return t[12]!==void 0&&(l.item=t[12]),r=new _e({props:l}),Ut.push(()=>At(r,"item",h)),{key:n,first:null,c(){e=bt(),ot(r.$$.fragment),this.h()},l(f){e=bt(),at(r.$$.fragment,f),this.h()},h(){this.first=e},m(f,c){F(f,e,c),ut(r,f,c),u=!0},p(f,c){t=f;const _={};c&1&&(_.onDelete=i),!a&&c&1&&(a=!0,_.item=t[12],Ht(()=>a=!1)),r.$set(_)},i(f){u||(X(r.$$.fragment,f),u=!0)},o(f){x(r.$$.fragment,f),u=!1},d(f){f&&k(e),lt(r,f)}}}function ve(n){let t,e,r,a,u,i,h=tt(n[2])+"",l,f,c,_,y,v,S,g,w,M,T,C,q="Past Sessions",J,z,H=[],ft=new Map,K,V,I;a=new se({props:{onStop:n[6],onUpdate:n[7]}});let Z=Lt(n[0].sessions);const ht=o=>o[12].id;for(let o=0;o<Z.length;o+=1){let s=Et(n,Z,o),m=ht(s);ft.set(m,H[o]=Vt(m,s))}let p=null;return Z.length||(p=Ct()),{c(){t=Y("div"),e=Y("input"),r=P(),ot(a.$$.fragment),u=P(),i=Y("div"),l=Q(h),f=P(),c=Y("div"),_=Y("label"),y=Y("input"),v=Q(`
			Time Limit`),S=P(),g=Y("input"),M=P(),T=Y("div"),C=Y("h2"),C.textContent=q,J=P(),z=Y("div");for(let o=0;o<H.length;o+=1)H[o].c();p&&p.c(),this.h()},l(o){t=j(o,"DIV",{class:!0});var s=U(t);e=j(s,"INPUT",{id:!0,placeholder:!0,class:!0}),r=W(s),at(a.$$.fragment,s),u=W(s),i=j(s,"DIV",{class:!0});var m=U(i);l=R(m,h),m.forEach(k),f=W(s),c=j(s,"DIV",{class:!0});var d=U(c);_=j(d,"LABEL",{for:!0});var D=U(_);y=j(D,"INPUT",{id:!0,type:!0,class:!0}),v=R(D,`
			Time Limit`),D.forEach(k),S=W(d),g=j(d,"INPUT",{id:!0,class:!0}),d.forEach(k),M=W(s),T=j(s,"DIV",{class:!0});var $=U(T);C=j($,"H2",{"data-svelte-h":!0}),yt(C)!=="svelte-thzqul"&&(C.textContent=q),J=W($),z=j($,"DIV",{class:!0});var L=U(z);for(let E=0;E<H.length;E+=1)H[E].l(L);p&&p.l(L),L.forEach(k),$.forEach(k),s.forEach(k),this.h()},h(){O(e,"id","project_name"),O(e,"placeholder","Project Name"),O(e,"class","text-4xl svelte-1n5zvr5"),O(i,"class","text-center font-mono text-6xl"),O(y,"id","has_time_limit"),O(y,"type","checkbox"),O(y,"class","svelte-1n5zvr5"),O(_,"for","has_time_limit"),O(g,"id","time_limit"),g.disabled=w=!n[0].isTimeLimited,O(g,"class","svelte-1n5zvr5"),O(c,"class","flex flex-col items-center gap-2"),O(z,"class","flex flex-col-reverse gap-4"),O(T,"class","flex flex-col gap-4"),O(t,"class","flex flex-col justify-center gap-8")},m(o,s){F(o,t,s),b(t,e),dt(e,n[0].name),b(t,r),ut(a,t,null),b(t,u),b(t,i),b(i,l),b(t,f),b(t,c),b(c,_),b(_,y),y.checked=n[0].isTimeLimited,b(_,v),b(c,S),b(c,g),dt(g,n[0].timeLimitDuration),b(t,M),b(t,T),b(T,C),b(T,J),b(T,z);for(let m=0;m<H.length;m+=1)H[m]&&H[m].m(z,null);p&&p.m(z,null),K=!0,V||(I=[Mt(e,"input",n[5]),Mt(y,"change",n[8]),Mt(g,"input",n[9])],V=!0)},p(o,[s]){s&1&&e.value!==o[0].name&&dt(e,o[0].name);const m={};s&1&&(m.onStop=o[6]),s&2&&(m.onUpdate=o[7]),a.$set(m),(!K||s&4)&&h!==(h=tt(o[2])+"")&&rt(l,h),s&1&&(y.checked=o[0].isTimeLimited),(!K||s&1&&w!==(w=!o[0].isTimeLimited))&&(g.disabled=w),s&1&&g.value!==o[0].timeLimitDuration&&dt(g,o[0].timeLimitDuration),s&9&&(Z=Lt(o[0].sessions),Nt(),H=Rt(H,s,ht,1,o,Z,ft,z,Kt,Vt,null,Et),zt(),!Z.length&&p?p.p(o,s):Z.length?p&&(p.d(1),p=null):(p=Ct(),p.c(),p.m(z,null)))},i(o){if(!K){X(a.$$.fragment,o);for(let s=0;s<Z.length;s+=1)X(H[s]);K=!0}},o(o){x(a.$$.fragment,o);for(let s=0;s<H.length;s+=1)x(H[s]);K=!1},d(o){o&&k(t),lt(a);for(let s=0;s<H.length;s+=1)H[s].d();p&&p.d(),V=!1,Jt(I)}}}function ge(n,t,e){let r,a,{project:u}=t;function i(g){e(0,u.sessions=u.sessions.filter(w=>w.id!=g),u)}let h=0;function l(){u.name=this.value,e(0,u)}const f=(g,w)=>{e(0,u.sessions=[...u.sessions,{id:Xt(6),start:g.toISOString(),stop:w.toISOString()}],u)},c=g=>{e(1,h=g)};function _(){u.isTimeLimited=this.checked,e(0,u)}function y(){u.timeLimitDuration=this.value,e(0,u)}const v=g=>i(g.id);function S(g,w,M,T){M[T]=g,e(0,u)}return n.$$set=g=>{"project"in g&&e(0,u=g.project)},n.$$.update=()=>{n.$$.dirty&1&&e(4,r=u.sessions?u.sessions.reduce((g,{start:w,stop:M})=>g+Math.round(new Date(M).getTime()-new Date(w).getTime()),0):0),n.$$.dirty&19&&e(2,a=u.isTimeLimited?parseInt(u.timeLimitDuration||"0")-(r+Math.round(h)):r+Math.round(h))},[u,h,a,i,r,l,f,c,_,y,v,S]}class $e extends gt{constructor(t){super(),$t(this,t,ge,ve,vt,{project:0})}}function De(n){let t,e="Not found",r,a,u;return{c(){t=Y("div"),t.textContent=e,r=P(),a=Y("div"),u=Q(n[0])},l(i){t=j(i,"DIV",{"data-svelte-h":!0}),yt(t)!=="svelte-kspf0j"&&(t.textContent=e),r=W(i),a=j(i,"DIV",{});var h=U(a);u=R(h,n[0]),h.forEach(k)},m(i,h){F(i,t,h),F(i,r,h),F(i,a,h),b(a,u)},p(i,h){h&1&&rt(u,i[0])},i:_t,o:_t,d(i){i&&(k(t),k(r),k(a))}}}function Me(n){let t,e,r;function a(i){n[5](i)}let u={};return n[1].projects[n[2]]!==void 0&&(u.project=n[1].projects[n[2]]),t=new $e({props:u}),Ut.push(()=>At(t,"project",a)),{c(){ot(t.$$.fragment)},l(i){at(t.$$.fragment,i)},m(i,h){ut(t,i,h),r=!0},p(i,h){const l={};!e&&h&6&&(e=!0,l.project=i[1].projects[i[2]],Ht(()=>e=!1)),t.$set(l)},i(i){r||(X(t.$$.fragment,i),r=!0)},o(i){x(t.$$.fragment,i),r=!1},d(i){lt(t,i)}}}function be(n){let t,e,r,a;const u=[Me,De],i=[];function h(l,f){return l[2]>-1?0:1}return t=h(n),e=i[t]=u[t](n),{c(){e.c(),r=bt()},l(l){e.l(l),r=bt()},m(l,f){i[t].m(l,f),F(l,r,f),a=!0},p(l,[f]){let c=t;t=h(l),t===c?i[t].p(l,f):(Nt(),x(i[c],1,1,()=>{i[c]=null}),zt(),e=i[t],e?e.p(l,f):(e=i[t]=u[t](l),e.c()),X(e,1),e.m(r.parentNode,r))},i(l){a||(X(e),a=!0)},o(l){x(e),a=!1},d(l){l&&k(r),i[t].d(l)}}}function ye(n,t,e){let r,a,u,i;kt(n,Gt,f=>e(4,i=f));const h=xt.application;kt(n,h,f=>e(1,u=f));function l(f){n.$$.not_equal(u.projects[a],f)&&(u.projects[a]=f,h.set(u))}return n.$$.update=()=>{n.$$.dirty&16&&e(0,r=i.params.id),n.$$.dirty&3&&e(2,a=u.projects.findIndex(f=>f.id==r))},[r,u,a,h,i,l]}class Ie extends gt{constructor(t){super(),$t(this,t,ye,be,vt,{})}}export{Ie as component};
