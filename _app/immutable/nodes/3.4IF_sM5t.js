import{s as vt,o as Jt,n as _t,i as qt,r as xt,b as Ht,h as Nt,e as kt}from"../chunks/scheduler.BwZ7y9wQ.js";import{S as gt,i as $t,g as j,m as x,s as P,r as ot,h as O,j as A,n as G,f as k,c as W,u as at,k as Y,a as Z,z as b,v as lt,o as st,d as R,t as K,w as ut,y as yt,A as dt,B as Mt,x as Gt,p as At,b as zt,C as Pt,e as bt}from"../chunks/index.0Z0BhWBB.js";import{p as Qt}from"../chunks/stores.QoF1tUIa.js";import{B as It,I as Rt,e as Lt,u as Kt,o as Xt,n as te,m as ee}from"../chunks/InvertedButton.n9NVC3MM.js";const Wt=1e3,St=60*Wt,Yt=60*St,jt=s=>(""+s).padStart(2,"0");function X(s){if(!s)return"0:00:00";let t=s<0?"-":"",e=Math.abs(s);const n=Math.floor(e/Yt);e-=n*Yt;const o=Math.floor(e/St);e-=o*St;const u=Math.round(e/Wt);return`${t}${n}:${jt(o)}:${jt(u)}`}function ne(s){let t;return{c(){t=x("Start")},l(e){t=G(e,"Start")},m(e,n){Z(e,t,n)},d(e){e&&k(t)}}}function se(s){let t;return{c(){t=x("Stop")},l(e){t=G(e,"Stop")},m(e,n){Z(e,t,n)},d(e){e&&k(t)}}}function re(s){let t,e,n,o,u,r,h,f,c;return r=new It({props:{disabled:!!s[0],$$slots:{default:[ne]},$$scope:{ctx:s}}}),r.$on("click",s[3]),f=new It({props:{disabled:!!s[1],$$slots:{default:[se]},$$scope:{ctx:s}}}),f.$on("click",s[4]),{c(){t=j("div"),e=j("div"),n=x(s[2]),o=P(),u=j("div"),ot(r.$$.fragment),h=P(),ot(f.$$.fragment),this.h()},l(d){t=O(d,"DIV",{class:!0});var _=A(t);e=O(_,"DIV",{class:!0});var y=A(e);n=G(y,s[2]),y.forEach(k),o=W(_),u=O(_,"DIV",{class:!0});var v=A(u);at(r.$$.fragment,v),h=W(v),at(f.$$.fragment,v),v.forEach(k),_.forEach(k),this.h()},h(){Y(e,"class","text-center font-mono text-4xl"),Y(u,"class","flex flex-row justify-center gap-2 h-8"),Y(t,"class","flex flex-row justify-between gap-2 items-center rounded-2xl bg-zinc-200 p-4")},m(d,_){Z(d,t,_),b(t,e),b(e,n),b(t,o),b(t,u),lt(r,u,null),b(u,h),lt(f,u,null),c=!0},p(d,[_]){(!c||_&4)&&st(n,d[2]);const y={};_&1&&(y.disabled=!!d[0]),_&1024&&(y.$$scope={dirty:_,ctx:d}),r.$set(y);const v={};_&2&&(v.disabled=!!d[1]),_&1024&&(v.$$scope={dirty:_,ctx:d}),f.$set(v)},i(d){c||(R(r.$$.fragment,d),R(f.$$.fragment,d),c=!0)},o(d){K(r.$$.fragment,d),K(f.$$.fragment,d),c=!1},d(d){d&&k(t),ut(r),ut(f)}}}function ie(s,t,e){let n,{onUpdate:o}=t,{onStop:u}=t,r,h,f=X(n),c;function d(){c&&(clearInterval(c),c=void 0)}Jt(()=>d);function _(){d(),e(0,r=new Date),e(1,h=void 0),e(2,f=X(n)),o(n),c=setInterval(()=>{const v=r?Date.now()-r.getTime():0;e(2,f=X(v)),o(v)},1e3)}function y(){d(),e(1,h=new Date),e(2,f=X(n)),r&&(u(r,h),e(0,r=void 0),e(1,h=void 0),e(2,f=X(n)),o(n))}return s.$$set=v=>{"onUpdate"in v&&e(5,o=v.onUpdate),"onStop"in v&&e(6,u=v.onStop)},s.$$.update=()=>{s.$$.dirty&3&&(n=r&&h?h.getTime()-r.getTime():0)},[r,h,f,_,y,o,u]}class oe extends gt{constructor(t){super(),$t(this,t,ie,re,vt,{onUpdate:5,onStop:6})}}var wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ft={exports:{}};(function(s,t){(function(e,n){s.exports=n()})(wt,function(){var e=1e3,n=6e4,o=36e5,u="millisecond",r="second",h="minute",f="hour",c="day",d="week",_="month",y="quarter",v="year",S="date",g="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,M=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var m=["th","st","nd","rd"],l=$%100;return"["+$+(m[(l-20)%10]||m[l]||m[0])+"]"}},N=function($,m,l){var a=String($);return!a||a.length>=m?$:""+Array(m+1-a.length).join(l)+$},z={s:N,z:function($){var m=-$.utcOffset(),l=Math.abs(m),a=Math.floor(l/60),i=l%60;return(m<=0?"+":"-")+N(a,2,"0")+":"+N(i,2,"0")},m:function $(m,l){if(m.date()<l.date())return-$(l,m);var a=12*(l.year()-m.year())+(l.month()-m.month()),i=m.clone().add(a,_),p=l-i<0,D=m.clone().add(a+(p?-1:1),_);return+(-(a+(l-i)/(p?i-D:D-i))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:_,y:v,w:d,d:c,D:S,h:f,m:h,s:r,ms:u,Q:y}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},F="en",Q={};Q[F]=I;var ft="$isDayjsObject",q=function($){return $ instanceof tt||!(!$||!$[ft])},U=function $(m,l,a){var i;if(!m)return F;if(typeof m=="string"){var p=m.toLowerCase();Q[p]&&(i=p),l&&(Q[p]=l,i=p);var D=m.split("-");if(!i&&D.length>1)return $(D[0])}else{var L=m.name;Q[L]=m,i=L}return!a&&i&&(F=i),i||!a&&F},V=function($,m){if(q($))return $.clone();var l=typeof m=="object"?m:{};return l.date=$,l.args=arguments,new tt(l)},T=z;T.l=U,T.i=q,T.w=function($,m){return V($,{locale:m.$L,utc:m.$u,x:m.$x,$offset:m.$offset})};var tt=function(){function $(l){this.$L=U(l.locale,null,!0),this.parse(l),this.$x=this.$x||l.x||{},this[ft]=!0}var m=$.prototype;return m.parse=function(l){this.$d=function(a){var i=a.date,p=a.utc;if(i===null)return new Date(NaN);if(T.u(i))return new Date;if(i instanceof Date)return new Date(i);if(typeof i=="string"&&!/Z$/i.test(i)){var D=i.match(w);if(D){var L=D[2]-1||0,E=(D[7]||"0").substring(0,3);return p?new Date(Date.UTC(D[1],L,D[3]||1,D[4]||0,D[5]||0,D[6]||0,E)):new Date(D[1],L,D[3]||1,D[4]||0,D[5]||0,D[6]||0,E)}}return new Date(i)}(l),this.init()},m.init=function(){var l=this.$d;this.$y=l.getFullYear(),this.$M=l.getMonth(),this.$D=l.getDate(),this.$W=l.getDay(),this.$H=l.getHours(),this.$m=l.getMinutes(),this.$s=l.getSeconds(),this.$ms=l.getMilliseconds()},m.$utils=function(){return T},m.isValid=function(){return this.$d.toString()!==g},m.isSame=function(l,a){var i=V(l);return this.startOf(a)<=i&&i<=this.endOf(a)},m.isAfter=function(l,a){return V(l)<this.startOf(a)},m.isBefore=function(l,a){return this.endOf(a)<V(l)},m.$g=function(l,a,i){return T.u(l)?this[a]:this.set(i,l)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(l,a){var i=this,p=!!T.u(a)||a,D=T.p(l),L=function(it,J){var et=T.w(i.$u?Date.UTC(i.$y,J,it):new Date(i.$y,J,it),i);return p?et:et.endOf(c)},E=function(it,J){return T.w(i.toDate()[it].apply(i.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(J)),i)},C=this.$W,H=this.$M,B=this.$D,ct="set"+(this.$u?"UTC":"");switch(D){case v:return p?L(1,0):L(31,11);case _:return p?L(1,H):L(0,H+1);case d:var rt=this.$locale().weekStart||0,mt=(C<rt?C+7:C)-rt;return L(p?B-mt:B+(6-mt),H);case c:case S:return E(ct+"Hours",0);case f:return E(ct+"Minutes",1);case h:return E(ct+"Seconds",2);case r:return E(ct+"Milliseconds",3);default:return this.clone()}},m.endOf=function(l){return this.startOf(l,!1)},m.$set=function(l,a){var i,p=T.p(l),D="set"+(this.$u?"UTC":""),L=(i={},i[c]=D+"Date",i[S]=D+"Date",i[_]=D+"Month",i[v]=D+"FullYear",i[f]=D+"Hours",i[h]=D+"Minutes",i[r]=D+"Seconds",i[u]=D+"Milliseconds",i)[p],E=p===c?this.$D+(a-this.$W):a;if(p===_||p===v){var C=this.clone().set(S,1);C.$d[L](E),C.init(),this.$d=C.set(S,Math.min(this.$D,C.daysInMonth())).$d}else L&&this.$d[L](E);return this.init(),this},m.set=function(l,a){return this.clone().$set(l,a)},m.get=function(l){return this[T.p(l)]()},m.add=function(l,a){var i,p=this;l=Number(l);var D=T.p(a),L=function(H){var B=V(p);return T.w(B.date(B.date()+Math.round(H*l)),p)};if(D===_)return this.set(_,this.$M+l);if(D===v)return this.set(v,this.$y+l);if(D===c)return L(1);if(D===d)return L(7);var E=(i={},i[h]=n,i[f]=o,i[r]=e,i)[D]||1,C=this.$d.getTime()+l*E;return T.w(C,this)},m.subtract=function(l,a){return this.add(-1*l,a)},m.format=function(l){var a=this,i=this.$locale();if(!this.isValid())return i.invalidDate||g;var p=l||"YYYY-MM-DDTHH:mm:ssZ",D=T.z(this),L=this.$H,E=this.$m,C=this.$M,H=i.weekdays,B=i.months,ct=i.meridiem,rt=function(J,et,pt,Dt){return J&&(J[et]||J(a,p))||pt[et].slice(0,Dt)},mt=function(J){return T.s(L%12||12,J,"0")},it=ct||function(J,et,pt){var Dt=J<12?"AM":"PM";return pt?Dt.toLowerCase():Dt};return p.replace(M,function(J,et){return et||function(pt){switch(pt){case"YY":return String(a.$y).slice(-2);case"YYYY":return T.s(a.$y,4,"0");case"M":return C+1;case"MM":return T.s(C+1,2,"0");case"MMM":return rt(i.monthsShort,C,B,3);case"MMMM":return rt(B,C);case"D":return a.$D;case"DD":return T.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return rt(i.weekdaysMin,a.$W,H,2);case"ddd":return rt(i.weekdaysShort,a.$W,H,3);case"dddd":return H[a.$W];case"H":return String(L);case"HH":return T.s(L,2,"0");case"h":return mt(1);case"hh":return mt(2);case"a":return it(L,E,!0);case"A":return it(L,E,!1);case"m":return String(E);case"mm":return T.s(E,2,"0");case"s":return String(a.$s);case"ss":return T.s(a.$s,2,"0");case"SSS":return T.s(a.$ms,3,"0");case"Z":return D}return null}(J)||D.replace(":","")})},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(l,a,i){var p,D=this,L=T.p(a),E=V(l),C=(E.utcOffset()-this.utcOffset())*n,H=this-E,B=function(){return T.m(D,E)};switch(L){case v:p=B()/12;break;case _:p=B();break;case y:p=B()/3;break;case d:p=(H-C)/6048e5;break;case c:p=(H-C)/864e5;break;case f:p=H/o;break;case h:p=H/n;break;case r:p=H/e;break;default:p=H}return i?p:T.a(p)},m.daysInMonth=function(){return this.endOf(_).$D},m.$locale=function(){return Q[this.$L]},m.locale=function(l,a){if(!l)return this.$L;var i=this.clone(),p=U(l,a,!0);return p&&(i.$L=p),i},m.clone=function(){return T.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},$}(),ht=tt.prototype;return V.prototype=ht,[["$ms",u],["$s",r],["$m",h],["$H",f],["$W",c],["$M",_],["$y",v],["$D",S]].forEach(function($){ht[$[1]]=function(m){return this.$g(m,$[0],$[1])}}),V.extend=function($,m){return $.$i||($(m,tt,V),$.$i=!0),V},V.locale=U,V.isDayjs=q,V.unix=function($){return V(1e3*$)},V.en=Q[F],V.Ls=Q,V.p={},V})})(Ft);var ae=Ft.exports;const nt=Tt(ae);var Bt={exports:{}};(function(s,t){(function(e,n){s.exports=n()})(wt,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,o,u){var r=o.prototype,h=r.format;u.en.formats=e,r.format=function(f){f===void 0&&(f="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,d=function(_,y){return _.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,S,g){var w=g&&g.toUpperCase();return S||y[g]||e[g]||y[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(M,I,N){return I||N.slice(1)})})}(f,c===void 0?{}:c);return h.call(this,d)}}})})(Bt);var le=Bt.exports;const ue=Tt(le);var Zt={exports:{}};(function(s,t){(function(e,n){s.exports=n()})(wt,function(){return function(e,n,o){n.prototype.isToday=function(){var u="YYYY-MM-DD",r=o();return this.format(u)===r.format(u)}}})})(Zt);var fe=Zt.exports;const ce=Tt(fe);function Ot(s){let t,e;return{c(){t=j("div"),e=x(s[3])},l(n){t=O(n,"DIV",{});var o=A(t);e=G(o,s[3]),o.forEach(k)},m(n,o){Z(n,t,o),b(t,e)},p(n,o){o&8&&st(e,n[3])},d(n){n&&k(t)}}}function Et(s){let t,e;return{c(){t=j("div"),e=x(s[2])},l(n){t=O(n,"DIV",{});var o=A(t);e=G(o,s[2]),o.forEach(k)},m(n,o){Z(n,t,o),b(t,e)},p(n,o){o&4&&st(e,n[2])},d(n){n&&k(t)}}}function de(s){let t,e,n,o=s[6](s[0])+"",u,r,h,f="-",c,d,_,y=s[6](s[1])+"",v,S=!s[5]&&Ot(s),g=!s[5]&&!s[4]&&Et(s);return{c(){t=j("div"),S&&S.c(),e=P(),n=j("div"),u=x(o),r=P(),h=j("div"),h.textContent=f,c=P(),g&&g.c(),d=P(),_=j("div"),v=x(y),this.h()},l(w){t=O(w,"DIV",{class:!0});var M=A(t);S&&S.l(M),e=W(M),n=O(M,"DIV",{});var I=A(n);u=G(I,o),I.forEach(k),r=W(M),h=O(M,"DIV",{"data-svelte-h":!0}),yt(h)!=="svelte-fd8uot"&&(h.textContent=f),c=W(M),g&&g.l(M),d=W(M),_=O(M,"DIV",{});var N=A(_);v=G(N,y),N.forEach(k),M.forEach(k),this.h()},h(){Y(t,"class","flex flex-row gap-1")},m(w,M){Z(w,t,M),S&&S.m(t,null),b(t,e),b(t,n),b(n,u),b(t,r),b(t,h),b(t,c),g&&g.m(t,null),b(t,d),b(t,_),b(_,v)},p(w,[M]){w[5]?S&&(S.d(1),S=null):S?S.p(w,M):(S=Ot(w),S.c(),S.m(t,e)),M&1&&o!==(o=w[6](w[0])+"")&&st(u,o),!w[5]&&!w[4]?g?g.p(w,M):(g=Et(w),g.c(),g.m(t,d)):g&&(g.d(1),g=null),M&2&&y!==(y=w[6](w[1])+"")&&st(v,y)},i:_t,o:_t,d(w){w&&k(t),S&&S.d(),g&&g.d()}}}function he(s,t,e){let n,o,u,r,h,{start:f}=t,{stop:c}=t;nt.extend(ue),nt.extend(ce);const d=v=>nt(v).format("M/DD/YYYY"),_=v=>nt(v).format("M/DD"),y=v=>nt(v).format("h:mma");return s.$$set=v=>{"start"in v&&e(0,f=v.start),"stop"in v&&e(1,c=v.stop)},s.$$.update=()=>{s.$$.dirty&1&&e(5,n=nt(f).isToday()),s.$$.dirty&1&&e(7,o=nt(f).year()==nt().year()),s.$$.dirty&3&&e(4,u=d(f)==d(c)),s.$$.dirty&129&&e(3,r=o?_(f):d(f)),s.$$.dirty&130&&e(2,h=o?_(c):d(c))},[f,c,h,r,u,n,y,o]}class me extends gt{constructor(t){super(),$t(this,t,he,de,vt,{start:0,stop:1})}}function pe(s){let t;return{c(){t=x("ðŸžª")},l(e){t=G(e,"ðŸžª")},m(e,n){Z(e,t,n)},d(e){e&&k(t)}}}function _e(s){let t,e,n=X(Math.round(new Date(s[0].stop).getTime()-new Date(s[0].start).getTime()))+"",o,u,r,h,f,c,d,_,y,v,S,g,w;return f=new me({props:{start:s[0].start,stop:s[0].stop}}),v=new Rt({props:{$$slots:{default:[pe]},$$scope:{ctx:s}}}),v.$on("click",function(){qt(s[1])&&s[1].apply(this,arguments)}),{c(){t=j("div"),e=j("div"),o=x(n),u=P(),r=j("div"),h=j("div"),ot(f.$$.fragment),c=P(),d=j("input"),y=P(),ot(v.$$.fragment),this.h()},l(M){t=O(M,"DIV",{class:!0});var I=A(t);e=O(I,"DIV",{class:!0});var N=A(e);o=G(N,n),N.forEach(k),u=W(I),r=O(I,"DIV",{class:!0});var z=A(r);h=O(z,"DIV",{class:!0});var F=A(h);at(f.$$.fragment,F),F.forEach(k),c=W(z),d=O(z,"INPUT",{id:!0,placeholder:!0,class:!0}),z.forEach(k),y=W(I),at(v.$$.fragment,I),I.forEach(k),this.h()},h(){Y(e,"class","font-mono text-lg"),Y(h,"class","ml-2 w-full text-right text-xs text-zinc-500"),Y(d,"id",_="session_name_"+s[0].id),Y(d,"placeholder","Session name"),Y(d,"class","svelte-oxet75"),Y(r,"class","gap-0.75 flex w-full flex-col"),Y(t,"class","flex w-full flex-row items-center gap-2")},m(M,I){Z(M,t,I),b(t,e),b(e,o),b(t,u),b(t,r),b(r,h),lt(f,h,null),b(r,c),b(r,d),dt(d,s[0].name),b(t,y),lt(v,t,null),S=!0,g||(w=Mt(d,"input",s[2]),g=!0)},p(M,[I]){s=M,(!S||I&1)&&n!==(n=X(Math.round(new Date(s[0].stop).getTime()-new Date(s[0].start).getTime()))+"")&&st(o,n);const N={};I&1&&(N.start=s[0].start),I&1&&(N.stop=s[0].stop),f.$set(N),(!S||I&1&&_!==(_="session_name_"+s[0].id))&&Y(d,"id",_),I&1&&d.value!==s[0].name&&dt(d,s[0].name);const z={};I&8&&(z.$$scope={dirty:I,ctx:s}),v.$set(z)},i(M){S||(R(f.$$.fragment,M),R(v.$$.fragment,M),S=!0)},o(M){K(f.$$.fragment,M),K(v.$$.fragment,M),S=!1},d(M){M&&k(t),ut(f),ut(v),g=!1,w()}}}function ve(s,t,e){let{item:n}=t,{onDelete:o}=t;function u(){n.name=this.value,e(0,n)}return s.$$set=r=>{"item"in r&&e(0,n=r.item),"onDelete"in r&&e(1,o=r.onDelete)},[n,o,u]}class ge extends gt{constructor(t){super(),$t(this,t,ve,_e,vt,{item:0,onDelete:1})}}function Ct(s,t,e){const n=s.slice();return n[12]=t[e],n[13]=t,n[14]=e,n}function Vt(s){let t,e="No sessions logged so far";return{c(){t=j("div"),t.textContent=e},l(n){t=O(n,"DIV",{"data-svelte-h":!0}),yt(t)!=="svelte-19p8o4v"&&(t.textContent=e)},m(n,o){Z(n,t,o)},p:_t,d(n){n&&k(t)}}}function Ut(s,t){let e,n,o,u;function r(){return t[10](t[12])}function h(c){t[11](c,t[12],t[13],t[14])}let f={onDelete:r};return t[12]!==void 0&&(f.item=t[12]),n=new ge({props:f}),Ht.push(()=>Pt(n,"item",h)),{key:s,first:null,c(){e=bt(),ot(n.$$.fragment),this.h()},l(c){e=bt(),at(n.$$.fragment,c),this.h()},h(){this.first=e},m(c,d){Z(c,e,d),lt(n,c,d),u=!0},p(c,d){t=c;const _={};d&1&&(_.onDelete=r),!o&&d&1&&(o=!0,_.item=t[12],Nt(()=>o=!1)),n.$set(_)},i(c){u||(R(n.$$.fragment,c),u=!0)},o(c){K(n.$$.fragment,c),u=!1},d(c){c&&k(e),ut(n,c)}}}function $e(s){let t,e,n,o,u,r,h=X(s[2])+"",f,c,d,_,y,v,S,g,w,M,I,N,z,F,Q="Past Sessions",ft,q,U=[],V=new Map,T,tt,ht;document.title=t=s[0].name+" - Time Tally",I=new oe({props:{onStop:s[8],onUpdate:s[9]}});let $=Lt(s[0].sessions);const m=a=>a[12].id;for(let a=0;a<$.length;a+=1){let i=Ct(s,$,a),p=m(i);V.set(p,U[a]=Ut(p,i))}let l=null;return $.length||(l=Vt()),{c(){e=P(),n=j("div"),o=j("input"),u=P(),r=j("div"),f=x(h),c=P(),d=j("div"),_=j("label"),y=j("input"),v=x(`
			Time Limit`),S=P(),g=j("input"),M=P(),ot(I.$$.fragment),N=P(),z=j("div"),F=j("h2"),F.textContent=Q,ft=P(),q=j("div");for(let a=0;a<U.length;a+=1)U[a].c();l&&l.c(),this.h()},l(a){Gt("svelte-1x2m9dk",document.head).forEach(k),e=W(a),n=O(a,"DIV",{class:!0});var p=A(n);o=O(p,"INPUT",{id:!0,placeholder:!0,class:!0}),u=W(p),r=O(p,"DIV",{class:!0});var D=A(r);f=G(D,h),D.forEach(k),c=W(p),d=O(p,"DIV",{class:!0});var L=A(d);_=O(L,"LABEL",{for:!0});var E=A(_);y=O(E,"INPUT",{id:!0,type:!0,class:!0}),v=G(E,`
			Time Limit`),E.forEach(k),S=W(L),g=O(L,"INPUT",{id:!0,class:!0}),L.forEach(k),M=W(p),at(I.$$.fragment,p),N=W(p),z=O(p,"DIV",{class:!0});var C=A(z);F=O(C,"H2",{class:!0,"data-svelte-h":!0}),yt(F)!=="svelte-183ax76"&&(F.textContent=Q),ft=W(C),q=O(C,"DIV",{class:!0});var H=A(q);for(let B=0;B<U.length;B+=1)U[B].l(H);l&&l.l(H),H.forEach(k),C.forEach(k),p.forEach(k),this.h()},h(){Y(o,"id","project_name"),Y(o,"placeholder","Project Name"),Y(o,"class","text-4xl svelte-1n5zvr5"),Y(r,"class","text-center font-mono text-6xl"),Y(y,"id","has_time_limit"),Y(y,"type","checkbox"),Y(y,"class","svelte-1n5zvr5"),Y(_,"for","has_time_limit"),Y(g,"id","time_limit"),g.disabled=w=!s[0].isTimeLimited,Y(g,"class","svelte-1n5zvr5"),Y(d,"class","flex flex-col items-center gap-2"),Y(F,"class","mb-2 text-2xl"),Y(q,"class","flex flex-col-reverse gap-4"),Y(z,"class","flex flex-col gap-4"),Y(n,"class","flex flex-col justify-center gap-8")},m(a,i){Z(a,e,i),Z(a,n,i),b(n,o),dt(o,s[0].name),b(n,u),b(n,r),b(r,f),b(n,c),b(n,d),b(d,_),b(_,y),y.checked=s[0].isTimeLimited,b(_,v),b(d,S),b(d,g),dt(g,s[0].timeLimitDuration),b(n,M),lt(I,n,null),b(n,N),b(n,z),b(z,F),b(z,ft),b(z,q);for(let p=0;p<U.length;p+=1)U[p]&&U[p].m(q,null);l&&l.m(q,null),T=!0,tt||(ht=[Mt(o,"input",s[5]),Mt(y,"change",s[6]),Mt(g,"input",s[7])],tt=!0)},p(a,[i]){(!T||i&1)&&t!==(t=a[0].name+" - Time Tally")&&(document.title=t),i&1&&o.value!==a[0].name&&dt(o,a[0].name),(!T||i&4)&&h!==(h=X(a[2])+"")&&st(f,h),i&1&&(y.checked=a[0].isTimeLimited),(!T||i&1&&w!==(w=!a[0].isTimeLimited))&&(g.disabled=w),i&1&&g.value!==a[0].timeLimitDuration&&dt(g,a[0].timeLimitDuration);const p={};i&1&&(p.onStop=a[8]),i&2&&(p.onUpdate=a[9]),I.$set(p),i&9&&($=Lt(a[0].sessions),At(),U=Kt(U,i,m,1,a,$,V,q,Xt,Ut,null,Ct),zt(),!$.length&&l?l.p(a,i):$.length?l&&(l.d(1),l=null):(l=Vt(),l.c(),l.m(q,null)))},i(a){if(!T){R(I.$$.fragment,a);for(let i=0;i<$.length;i+=1)R(U[i]);T=!0}},o(a){K(I.$$.fragment,a);for(let i=0;i<U.length;i+=1)K(U[i]);T=!1},d(a){a&&(k(e),k(n)),ut(I);for(let i=0;i<U.length;i+=1)U[i].d();l&&l.d(),tt=!1,xt(ht)}}}function De(s,t,e){let n,o,{project:u}=t;function r(g){e(0,u.sessions=u.sessions.filter(w=>w.id!=g),u)}let h=0;function f(){u.name=this.value,e(0,u)}function c(){u.isTimeLimited=this.checked,e(0,u)}function d(){u.timeLimitDuration=this.value,e(0,u)}const _=(g,w)=>{e(0,u.sessions=[...u.sessions,{id:te(6),start:g.toISOString(),stop:w.toISOString()}],u)},y=g=>{e(1,h=g)},v=g=>r(g.id);function S(g,w,M,I){M[I]=g,e(0,u)}return s.$$set=g=>{"project"in g&&e(0,u=g.project)},s.$$.update=()=>{s.$$.dirty&1&&e(4,n=u.sessions?u.sessions.reduce((g,{start:w,stop:M})=>g+Math.round(new Date(M).getTime()-new Date(w).getTime()),0):0),s.$$.dirty&19&&e(2,o=u.isTimeLimited?parseInt(u.timeLimitDuration||"0")-(n+Math.round(h)):n+Math.round(h))},[u,h,o,r,n,f,c,d,_,y,v,S]}class Me extends gt{constructor(t){super(),$t(this,t,De,$e,vt,{project:0})}}function be(s){let t,e="Not found",n,o,u;return{c(){t=j("div"),t.textContent=e,n=P(),o=j("div"),u=x(s[0])},l(r){t=O(r,"DIV",{"data-svelte-h":!0}),yt(t)!=="svelte-kspf0j"&&(t.textContent=e),n=W(r),o=O(r,"DIV",{});var h=A(o);u=G(h,s[0]),h.forEach(k)},m(r,h){Z(r,t,h),Z(r,n,h),Z(r,o,h),b(o,u)},p(r,h){h&1&&st(u,r[0])},i:_t,o:_t,d(r){r&&(k(t),k(n),k(o))}}}function ye(s){let t,e,n;function o(r){s[5](r)}let u={};return s[1].projects[s[2]]!==void 0&&(u.project=s[1].projects[s[2]]),t=new Me({props:u}),Ht.push(()=>Pt(t,"project",o)),{c(){ot(t.$$.fragment)},l(r){at(t.$$.fragment,r)},m(r,h){lt(t,r,h),n=!0},p(r,h){const f={};!e&&h&6&&(e=!0,f.project=r[1].projects[r[2]],Nt(()=>e=!1)),t.$set(f)},i(r){n||(R(t.$$.fragment,r),n=!0)},o(r){K(t.$$.fragment,r),n=!1},d(r){ut(t,r)}}}function Se(s){let t,e,n,o;const u=[ye,be],r=[];function h(f,c){return f[2]>-1?0:1}return t=h(s),e=r[t]=u[t](s),{c(){e.c(),n=bt()},l(f){e.l(f),n=bt()},m(f,c){r[t].m(f,c),Z(f,n,c),o=!0},p(f,[c]){let d=t;t=h(f),t===d?r[t].p(f,c):(At(),K(r[d],1,1,()=>{r[d]=null}),zt(),e=r[t],e?e.p(f,c):(e=r[t]=u[t](f),e.c()),R(e,1),e.m(n.parentNode,n))},i(f){o||(R(e),o=!0)},o(f){K(e),o=!1},d(f){f&&k(n),r[t].d(f)}}}function we(s,t,e){let n,o,u,r;kt(s,Qt,c=>e(4,r=c));const h=ee.application;kt(s,h,c=>e(1,u=c));function f(c){s.$$.not_equal(u.projects[o],c)&&(u.projects[o]=c,h.set(u))}return s.$$.update=()=>{s.$$.dirty&16&&e(0,n=r.params.id),s.$$.dirty&3&&e(2,o=u.projects.findIndex(c=>c.id==n))},[n,u,o,h,r,f]}class Ye extends gt{constructor(t){super(),$t(this,t,we,Se,vt,{})}}export{Ye as component};
